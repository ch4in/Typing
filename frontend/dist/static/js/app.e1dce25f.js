(function(t){function e(e){for(var a,r,i=e[0],l=e[1],c=e[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},r={app:0},o={app:0},s=[];function i(t){return l.p+"static/js/"+({Article:"Article","Finger~Word":"Finger~Word",Finger:"Finger",Word:"Word",RankList:"RankList"}[t]||t)+"."+{Article:"4e37ffaf","Finger~Word":"2b78fc03",Finger:"97a6172e",Word:"79d32110",RankList:"da1da2e4"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n={Article:1,"Finger~Word":1,Finger:1,Word:1,RankList:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="static/css/"+({Article:"Article","Finger~Word":"Finger~Word",Finger:"Finger",Word:"Word",RankList:"RankList"}[t]||t)+"."+{Article:"152cbfce","Finger~Word":"2c9b199c",Finger:"d6dcb03b",Word:"8b9d3e0d",RankList:"cb96b9b5"}[t]+".css",o=l.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],u=c.getAttribute("data-href");if(u===a||u===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],p.parentNode.removeChild(p),n(s)},p.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[t]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"0b33":function(t,e,n){},"12c0":function(t,e,n){t.exports=n.p+"static/img/portal.0e096fd7.png"},"13bf":function(t,e,n){},1496:function(t,e,n){"use strict";var a=n("d453"),r=n.n(a);r.a},"319a":function(t,e,n){"use strict";var a=n("96f1"),r=n.n(a);r.a},"3ce2":function(t,e,n){t.exports=n.p+"static/img/typing.6652077b.png"},"41c0":function(t,e,n){},"470a":function(t,e,n){"use strict";var a=n("0b33"),r=n.n(a);r.a},5178:function(t){t.exports=JSON.parse('[{"title":"常用","content":[{"name":"作业提交","info":"课堂作业提交","link":"#/classwork"}]},{"title":"打字 Typing","content":[{"name":"Typing打字测试平台","info":"打字练习与测试","link":"#/typing"},{"name":"ZType","info":"打字游戏 - Type to Shoot","link":"https://zty.pe/","target":"_blank"}]},{"title":"编程 Coding","content":[{"name":"网易卡搭社区","info":"分享有趣的Scratch编程作品","link":"https://kada.163.com/","target":"_blank"},{"name":"卡搭校园","info":"在课堂上，创作你自己的Scratch作品","link":"http://school.kada.163.com/","target":"_blank","account":"javascript:alert(\'这个功能还没做好！o(╥﹏╥)o\')"},{"name":"编程猫社区","info":"源码编辑器","link":"https://shequ.codemao.cn/","target":"_blank"},{"name":"Blockly Games","info":"为未来的程序员所设计的游戏","link":"http://www.kidscode.cn/blockly_games/zh-hans/index.html","target":"_blank"},{"name":"编程一小时","info":"一个全球性的编程学习活动","link":"https://code.org/hourofcode/overview","target":"_blank"}]},{"title":"阅读 Reading","content":[{"name":"温州中小学云图书馆","info":"云图书馆","link":"http://yuntu.wzer.net/","target":"_blank","account":"javascript:alert(\'这个功能还没做好！o(╥﹏╥)o\')","tutorial":"javascript:alert(\'这个功能还没做好！o(╥﹏╥)o\')"}]},{"title":"在线学习 E-Learning","content":[{"name":"青骄第二课堂","info":"看视频动画，学禁毒知识","link":"https://2-class.com/","target":"_blank","tutorial":"javascript:alert(\'这个功能还没做好！o(╥﹏╥)o\')","account":"javascript:alert(\'这个功能还没做好！o(╥﹏╥)o\')"}]}]')},"56d7":function(t,e,n){"use strict";n.r(e);n("6b54"),n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s={name:"app",components:{}},i=s,l=(n("034f"),n("2877")),c=Object(l["a"])(i,r,o,!1,null,null,null),u=c.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("el-row",[n("el-col",[n("h1",[t._v("\n        登录\n      ")])])],1),n("el-row",[n("el-col",[n("el-select",{staticStyle:{width:"250px"},model:{value:t.selectSchool,callback:function(e){t.selectSchool=e},expression:"selectSchool"}},t._l(t.optionsSchool,(function(t){return n("el-option",{key:t,attrs:{value:t}})})),1)],1)],1),n("el-row",[n("el-col",[n("el-select",{staticStyle:{width:"250px"},model:{value:t.selectClass,callback:function(e){t.selectClass=e},expression:"selectClass"}},t._l(t.optionsClass,(function(t){return n("el-option",{key:t,attrs:{value:t}})})),1)],1)],1),n("el-row",[n("el-col",[n("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.uname,callback:function(e){t.uname=e},expression:"uname"}},[n("template",{slot:"prepend"},[t._v("姓名")])],2),n("el-tag",{directives:[{name:"show",rawName:"v-show",value:t.nameLengthError,expression:"nameLengthError"}],staticStyle:{position:"absolute",left:"270px",top:"4px"},attrs:{type:"danger"}},[t._v("名字长度应在2到4个字符。")])],1)],1),n("el-row",[n("el-col",[n("el-button",{staticStyle:{width:"250px"},attrs:{type:"primary"},on:{click:t.loginFn}},[t._v("进入")])],1)],1),n("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.loginError,expression:"loginError"}],attrs:{title:"登录失败，请检查学校/班级/姓名是否正确。",type:"error"}})],1)},h=[],f={name:"Login",data:function(){return{uname:"",selectSchool:"沙城一小",optionsSchool:["沙城一小"],selectClass:"四（1）班",optionsClass:["四（1）班","四（2）班","四（3）班","四（4）班","四（5）班","四（6）班","五（1）班","五（2）班","五（3）班","五（4）班","五（5）班","五（6）班","六（1）班","六（2）班","六（3）班","六（4）班","六（5）班","六（6）班"],nameLengthError:0,loginError:0}},methods:{loginFn:function(){if(2<=this.uname.length&&this.uname.length<=4){this.nameLengthError=this.loginError=0;var t=this.classToGraduationNum(this.selectClass),e=new URLSearchParams({school:this.selectSchool,stuClass:t,stuName:this.uname}),n=this;axios({url:"/user_login/",method:"post",data:e,responseType:"text"}).then((function(t){t.data?(n.$store.state.user.school=n.selectSchool,n.$store.state.user.stuClass=n.selectClass,n.$store.state.user.stuName=n.uname,n.$store.state.user.stuID=t.data,n.$store.commit("set_name",n.uname),n.$router.push("/")):n.loginError=1})).catch((function(t){console.log(t)}))}else this.nameLengthError=1}},created:function(){document.title="登录"}},m=f,g=(n("d6db"),Object(l["a"])(m,p,h,!1,null,null,null)),v=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("el-menu",{attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{id:"logo"}},[a("img",{attrs:{alt:"Typing",src:n("3ce2")}}),a("h1",[t._v("Typing")])]),a("el-menu-item",{attrs:{index:"articleList"}},[t._v("练习")]),a("el-menu-item",{attrs:{index:"testList"}},[t._v("测试")]),a("el-menu-item",{attrs:{index:"portal"}},[t._v("返回导航")]),a("el-menu-item",{attrs:{id:"userinfo"}},[a("span",[t._v("欢迎你，"+t._s(this.$store.state.user.school)+" - "+t._s(this.$store.state.user.stuClass)+" - "+t._s(this.$store.state.user.stuName))]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:t.logoutFn}},[t._v("退出")])],1)],1),a("router-view")],1)},y=[],w={name:"Home",data:function(){return{activeIndex:"articleList"}},methods:{logoutFn:function(){this.$store.state.user.stuName="",this.$router.push("/login")},handleSelect:function(t,e){"testList"==t?this.$router.push("/typing/testList"):"articleList"==t?this.$router.push("/typing/articleList"):"portal"==t&&this.$router.push("/portal")}},component:{},created:function(){document.title="Typing - 打字"},mounted:function(){}},_=w,k=(n("830c"),Object(l["a"])(_,b,y,!1,null,"1506b7a2",null)),x=k.exports,$=function(){var t=this,e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"portal"},[r("el-container",[r("el-header",[r("el-row",[r("img",{staticStyle:{width:"44px"},attrs:{src:n("12c0")}}),r("div",{staticClass:"loginInfo"},[""==this.$store.state.user.stuName?r("div",[r("el-button",{attrs:{type:"",round:"",size:"medium",icon:"el-icon-user-solid"},on:{click:function(){t.$router.push("login")}}},[e._v("登录")])],1):r("div",[r("span",{staticStyle:{"font-size":"14px"}},[e._v("欢迎你，"+e._s(this.$store.state.user.school)+" - "+e._s(this.$store.state.user.stuClass)+" - "+e._s(this.$store.state.user.stuName))]),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:e.logoutFn}},[e._v("退出")])],1)])])],1),r("marquee",{attrs:{direction:"left",onmouseover:"this.stop()",onmouseout:"this.start()"}},[r("p")]),e._l(e.nav,(function(t,n){return r("div",{key:n},[r("el-divider",{attrs:{"content-position":"left"}},[r("h2",[e._v(e._s(t.title))])]),r("el-row",{attrs:{gutter:10}},e._l(t.content,(function(t,n){return r("el-col",{key:n,staticClass:"tabwithbutton",attrs:{xs:24,sm:12,md:6,lg:4}},[r("a",{attrs:{href:t.link,target:t.target}},[r("el-card",{staticClass:"tab",attrs:{shadow:"hover","body-style":{padding:"0px",align:"center"}}},[r("el-row",{staticClass:"tab-header"},[e._v(e._s(t.name))]),r("el-row",{staticClass:"tab-content",staticStyle:{"font-size":"12px"}},[e._v(e._s(t.info))])],1)],1),r("el-row",{staticClass:"tab-bottom"},[r("el-col",{attrs:{span:t.tutorial&&t.account?12:24}},[t.tutorial?r("a",{attrs:{href:t.tutorial}},[r("el-button",{attrs:{type:"primary",plain:"",size:"mini"}},[e._v("使用教程")])],1):e._e()]),r("el-col",{attrs:{span:t.tutorial&&t.account?12:24}},[t.account?r("a",{attrs:{href:t.account}},[r("el-button",{attrs:{type:"primary",plain:"",size:"mini"}},[e._v("账号密码")])],1):e._e()])],1)],1)})),1)],1)}))],2)],1)},C=[],S=n("5178"),D={name:"Portal",data:function(){return{nav:S}},methods:{logoutFn:function(){this.$store.state.user.stuName="",this.$router.push("/login")}},created:function(){document.title="Portal - 导航"}},L=D,T=(n("1496"),Object(l["a"])(L,$,C,!1,null,"6ec8bd76",null)),E=T.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"selection"},[n("el-row",t._l(t.typingClass,(function(e,a){return n("el-col",{key:e.class,attrs:{span:6,offset:a>0?2:1}},[n("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[n("img",{staticClass:"image",attrs:{src:e.imgurl}}),n("div",{staticStyle:{padding:"14px"}},[n("span",[t._v(t._s(e.class))]),n("div",{staticClass:"bottom clearfix"},[n("time",{staticClass:"time"}),n("el-button",{staticClass:"button",attrs:{type:"text"}},[n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:e.tourl}},[t._v("开始")])],1)],1)])])],1)})),1)],1)},j=[],R={name:"Selection",data:function(){return{typingClass:[{class:"指法",imgurl:n("96ed"),tourl:"finger"},{class:"单词",imgurl:n("f632"),tourl:"word"},{class:"文章",imgurl:n("8a41"),tourl:"article"}]}}},F=R,I=(n("9686"),Object(l["a"])(F,P,j,!1,null,"3f788410",null)),O=(I.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"testList"},[n("h1",[t._v("测试列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"cell-style":{"text-align":"center"},"header-cell-style":{"text-align":"center"}},on:{"row-click":t.handleRowClick}},[n("el-table-column",{attrs:{prop:"school",label:"学校"}}),n("el-table-column",{attrs:{prop:"class",label:"班级"}}),n("el-table-column",{attrs:{prop:"type",label:"测试类型"}}),n("el-table-column",{attrs:{prop:"time",label:"测试时间（分钟）"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleEnter(e.$index,e.row)}}},[t._v("进入")]),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleRank(e.$index,e.row)}}},[t._v("排行")])]}}])})],1)],1)}),U=[],A={name:"TestList",data:function(){return{tableData:[]}},methods:{handleRowClick:function(t,e,n){},handleEnter:function(t,e){var n=this,a=this;this.$prompt("请输入测试码","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(n){var r=n.value;if(null==r)throw"";axios.get("/check_entryCode/",{params:{code:r,id:a.tableData[t].testID}}).then((function(n){!0!==n.data["res"]?a.$message({type:"error",message:"测试码错误"}):(a.loadArticle(t,e),a.$message({type:"success",message:"开始测试"}))})).catch((function(t){}))})).catch((function(){n.$message({type:"info",message:"请询问老师获取测试码"})}))},loadArticle:function(t,e){this.$store.state.user.school=e.school,this.$store.state.user.stuClass=e.class,this.$store.state.testInfo.totalTestTime=e.time;var n=this;axios.get("/get_article/",{params:{testID:this.tableData[t].testID}}).then((function(t){n.$store.state.article["title"]=t.data["title"],n.$store.state.article["content"]=t.data["content"],n.$store.state.article["type"]=t.data["type"],n.$store.state.testInfo.testID=t.data["testID"],n.$router.push("article")})).catch((function(t){console.log(t)}))},handleRank:function(t,e){this.$store.state.testInfo.testID=this.tableData[t].testID,"中文"==e.type?this.$store.state.article.type="Cn":"英文"==e.type&&(this.$store.state.article.type="En"),this.$store.state.isPractice=!1,this.$router.push("rank")}},mounted:function(){this.$store.state.isPractice=!1;var t=this;axios.get("/get_testList/").then((function(e){t.tableData=e.data})).catch((function(t){console.log(t)}))}},N=A,z=(n("5eda"),Object(l["a"])(N,O,U,!1,null,"7c150fb4",null)),W=z.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"articleList"},[n("h1",[t._v("练习文章")]),n("el-table",{attrs:{data:t.tableData,"cell-style":{"text-align":"center"},"header-cell-style":{"text-align":"center"}}},[n("el-table-column",{attrs:{prop:"title",label:"标题"}}),n("el-table-column",{attrs:{prop:"type",label:"类型"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.loadArticle(e.$index,e.row)}}},[t._v("练习")]),n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleRank(e.$index,e.row)}}},[t._v("排行")])]}}])})],1),n("div",{staticClass:"paginationClass"},[n("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":t.pageSize,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange}})],1)],1)},M=[],q={data:function(){return{tableData:[],allData:[],total:0,currentPage:1,pageSize:10}},mounted:function(){this.$store.state.isPractice=!0,this.currentPage=1;var t=this;axios.get("/get_articleList/").then((function(e){t.allData=e.data,t.total=t.allData.length,t.handleCurrentChange(1)})).catch((function(t){console.log(t)}))},methods:{handleCurrentChange:function(t){this.currentPage=t,this.currentChangePage(this.allData,t)},currentChangePage:function(t,e){var n=(e-1)*this.pageSize,a=e*this.pageSize;for(this.tableData=[];n<a;n++)t[n]&&this.tableData.push(t[n])},loadArticle:function(t,e){var n=this;axios.get("/get_article/",{params:{title:n.tableData[t].title}}).then((function(e){n.$store.state.article["title"]=n.tableData[t].title,n.$store.state.article["content"]=e.data["content"],n.$store.state.article["type"]=e.data["type"],n.$router.push("article")})).catch((function(t){console.log(t)}))},handleRank:function(t,e){this.$store.state.article.title=this.tableData[t].title,this.$store.state.isPractice=!0,"中文"==e.type?this.$store.state.article.type="Cn":"英文"==e.type&&(this.$store.state.article.type="En"),this.$router.push("rank")},filterTag:function(t,e){return e.type===t}}},G=q,J=(n("470a"),Object(l["a"])(G,B,M,!1,null,"1af87ade",null)),H=J.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mavon-editor",{ref:"md",on:{imgAdd:t.$imgAdd,imgDel:t.$imgDel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),n("mavon-editor",{staticClass:"md",attrs:{value:t.value,subfield:t.prop.subfield,defaultOpen:t.prop.defaultOpen,toolbarsFlag:t.prop.toolbarsFlag,editable:t.prop.editable,scrollStyle:t.prop.scrollStyle}})],1)},Y=[],Z={name:"Markdown",data:function(){return{value:"",defaultData:"preview"}},computed:{prop:function(){var t={subfield:!1,defaultOpen:"preview",editable:!1,toolbarsFlag:!1,scrollStyle:!0};return t}},methods:{$imgAdd:function(t,e){var n=new FormData;n.append("image",e),axios({url:"server url",method:"post",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){$vm.$img2Url(t,e)}))}}},Q=Z,V=Object(l["a"])(Q,K,Y,!1,null,null,null),X=V.exports,tt=function(){var t=this,e=this,n=e.$createElement,a=e._self._c||n;return a("div",[a("el-container",[a("el-header",{staticStyle:{margin:"20px 0"}},[a("el-page-header",{attrs:{content:"课堂任务提交"},on:{back:function(){return t.$router.push("/")}}}),a("el-divider")],1),a("el-main",{staticStyle:{width:"95%",margin:"auto"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-row",[a("h3",{staticStyle:{"margin-bottom":"0px"}},[e._v("第一步：选择要提交的任务")])]),a("el-row",[a("el-table",{ref:"taskTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-style":{"text-align":"center"},"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"taskTitle",label:"任务名称",width:"170",align:"center"}}),a("el-table-column",{attrs:{prop:"taskContent",label:"任务描述",align:"center"}}),a("el-table-column",{attrs:{prop:"isUploaded",label:"是否已提交",width:"108",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{class:t.row.isUploaded?"el-icon-check":"el-icon-close"}),t.row.isUploaded?a("span",[a("el-divider",{attrs:{direction:"vertical"}}),a("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleDownload(t.$index,t.row)}}},[e._v("下载")])],1):e._e()]}}])})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-row",[a("h3",{staticStyle:{"margin-bottom":"0px"}},[e._v("第二步：上传文件")])]),a("el-row",[a("el-upload",{attrs:{"show-file-list":!1,drag:"",action:"/upload_classwork/",data:e.info,"before-upload":e.beforeUpload,"on-exceed":e.handleExceed,"on-success":e.handlerSuccess}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("\n                将要上交的文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("请勿上传无关文件。")])])],1)],1)],1)],1)],1)],1)},et=[],nt={data:function(){return{tableData:[],currentRow:null,info:{}}},computed:{},methods:{handleCurrentChange:function(t,e){this.currentRow=t,this.info["taskID"]=t.id,this.info["isUploaded"]=this.currentRow.isUploaded},handleRowClick:function(t){},handlerSuccess:function(t,e){"OK"==t?(this.currentRow.isUploaded=1,this.info["isUploaded"]=this.currentRow.isUploaded,this.$notify({title:"成功",message:"提交成功",type:"success"})):this.$notify.error({title:"错误",message:"提交错误"})},beforeUpload:function(t){if(this.currentRow.isUploaded){var e=this;return new Promise((function(t,n){e.$confirm("你已经上传过文件了，重新上传将替换已上传的文件，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t()})).catch((function(){e.$message({type:"info",message:"已取消"}),n()}))}))}},handleExceed:function(t,e){this.$notify.error({title:"错误",message:"只能上传1个文件"})},handleDownload:function(t,e){axios({url:"/download_classwork/",method:"post",data:new URLSearchParams({stuID:this.$store.state.user.stuID,taskID:this.currentRow.id}),responseType:"blob"}).then((function(t){var e=document.createElement("a"),n=window.URL.createObjectURL(new Blob([t.data]));e.href=n,e.download=t.headers.filename,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(n),console.log(t.headers.filename)})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;axios.get("/get_task/",{params:{ID:this.$store.state.user.stuID}}).then((function(e){t.tableData=e.data,t.$refs.taskTable.setCurrentRow(t.tableData[0]),t.currentRow=t.tableData[0],t.info={stuID:t.$store.state.user.stuID,taskID:t.tableData[0].id,isUploaded:t.tableData[0].isUploaded}})).catch((function(t){console.log(t)}))},created:function(){document.title="作业提交"}},at=nt,rt=(n("319a"),Object(l["a"])(at,tt,et,!1,null,null,null)),ot=rt.exports;a["default"].use(d["a"]);var st=new d["a"]({routes:[{path:"/portal",name:"portal",component:E,meta:{title:"Portal导航"}},{path:"/md",component:X,meta:{title:"任务单"}},{path:"/classwork",component:ot,meta:{title:"课堂作业"}},{path:"/login",component:v,meta:{title:"登录"}},{path:"/typing",component:x,children:[{path:"testList",name:"testList",component:W},{path:"articleList",name:"articleList",component:H},{path:"article",name:"article",component:function(){return n.e("Article").then(n.bind(null,"3e3e"))}},{path:"rank",name:"rank",component:function(){return n.e("RankList").then(n.bind(null,"d0f2"))}},{path:"finger",name:"finger",component:function(){return Promise.all([n.e("Finger~Word"),n.e("Finger")]).then(n.bind(null,"f07e"))}},{path:"word",name:"word",component:function(){return Promise.all([n.e("Finger~Word"),n.e("Word")]).then(n.bind(null,"2e4c"))}},{path:"",redirect:"articleList"},{path:"*",redirect:"articleList"}]},{path:"/",redirect:"portal"},{path:"*",redirect:"portal"}]}),it=n("2f62");a["default"].use(it["a"]);var lt=new it["a"].Store({state:{user:{school:"",stuClass:"",stuName:"",stuID:""},article:{title:"",content:"",type:""},testInfo:{testID:"",totalTestTime:3},isPractice:!1},mutations:{set_name:function(t,e){t.name=e,localStorage.setItem("stuname",e)}},actions:{}}),ct=n("5c96"),ut=n.n(ct);n("0fae");a["default"].use(ut.a);var dt=n("bc3a"),pt=n.n(dt),ht={},ft=pt.a.create(ht);ft.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),ft.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=ft,window.axios=ft,Object.defineProperties(t.prototype,{axios:{get:function(){return ft}},$axios:{get:function(){return ft}}})},a["default"].use(Plugin);Plugin;var mt=n("b2d8"),gt=n.n(mt);n("64e1");a["default"].use(gt.a),a["default"].config.productionTip=!1,new a["default"]({router:st,store:lt,render:function(t){return t(u)}}).$mount("#app"),st.beforeEach((function(t,e,n){""!==lt.state.user.stuName||"/login"===t.path||"/portal"===t.path?n():n({path:"/login"}),n()})),a["default"].prototype.classToGraduationNum=function(t){var e,n=new Date,a=n.getUTCFullYear()-2e3,r=n.getUTCMonth()+1;return r>7?"三"==t[0]?e=(a+4).toString():"四"==t[0]?e=(a+3).toString():"五"==t[0]?e=(a+2).toString():"六"==t[0]&&(e=(a+1).toString()):"三"==t[0]?e=(a+3).toString():"四"==t[0]?e=(a+2).toString():"五"==t[0]?e=(a+1).toString():"六"==t[0]&&(e=a.toString()),e+"届"+t[2]+"班"},a["default"].prototype.GraduationNumToclass=function(t){var e=new Date,n=parseInt(t[0]+t[1]),a=e.getUTCFullYear()-2e3,r=e.getUTCMonth()+1;if(r>7)if(n-a==4)n="三";else if(n-a==3)n="四";else if(n-a==2)n="五";else{if(n-a!=1)return t;n="六"}else if(n-a==3)n="三";else if(n-a==2)n="四";else if(n-a==1)n="五";else{if(n-a!=0)return t;n="六"}return n+"（"+t[3]+"）班"}},"5eda":function(t,e,n){"use strict";var a=n("13bf"),r=n.n(a);r.a},"64a9":function(t,e,n){},"830c":function(t,e,n){"use strict";var a=n("d039"),r=n.n(a);r.a},"8a41":function(t,e,n){t.exports=n.p+"static/img/articleTyping.90ee4a6d.jpg"},9686:function(t,e,n){"use strict";var a=n("41c0"),r=n.n(a);r.a},"96ed":function(t,e,n){t.exports=n.p+"static/img/finger.4625d25c.jpeg"},"96f1":function(t,e,n){},a9e7:function(t,e,n){},d039:function(t,e,n){},d453:function(t,e,n){},d6db:function(t,e,n){"use strict";var a=n("a9e7"),r=n.n(a);r.a},f632:function(t,e,n){t.exports=n.p+"static/img/word.1903de8c.jpg"}});
//# sourceMappingURL=app.e1dce25f.js.map